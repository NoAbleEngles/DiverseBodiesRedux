# DBMenu v2.0.1 - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ–Ω—é –¥–ª—è Fallout 4

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ–Ω—é –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Fallout 4 —á–µ—Ä–µ–∑ Scaleform (Flash/ActionScript 3), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –º–æ–¥–∞ DirectApply.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π ScrollPane** - —ç–ª–µ–≥–∞–Ω—Ç–Ω–∞—è –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –ø–∞–Ω–µ–ª—å –±–µ–∑ –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **30% —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞** - –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º  
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
- **–¢–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞
- **–ù–∞–¥–µ–∂–Ω—ã–µ polling –∫–æ–ª–±—ç–∫–∏** - –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö _root –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–±—ã—Ç–∏–π
- **–ß–∏—Å—Ç–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ç–µ–≥–æ–≤

## üîß –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Button** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- **Checkbox** - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∫–ª/–≤—ã–∫–ª  
- **Switcher** - –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **Label** - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Main.as (C++ API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ MenuManager.as (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ ThemeManager.as (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ MenuScaler.as (–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ ScrollableMenu.as (–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îÇ           ‚îú‚îÄ‚îÄ ButtonComponent.as
‚îÇ           ‚îú‚îÄ‚îÄ CheckboxComponent.as
‚îÇ           ‚îú‚îÄ‚îÄ SwitcherComponent.as
‚îÇ           ‚îî‚îÄ‚îÄ LabelComponent.as
‚îî‚îÄ‚îÄ view/CustomEvent.as (–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π)
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Fallout 4** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Scaleform
- **F4SE** (Fallout 4 Script Extender)  
- **Adobe Flash Professional** CS6+ (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ C++ —Ñ–∞–π–ª—ã** –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç F4SE –ø–ª–∞–≥–∏–Ω–∞
2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ dbMenu.swf** –≤ –ø–∞–ø–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DirectApply.cpp** –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
4. **–°–º–æ—Ç—Ä–∏—Ç–µ ExampleUsage.md** –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
```

## üîß API –¥–ª—è C++

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```cpp
// –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
menuObj.Invoke("show", nullptr, 0);

// –°–∫—Ä—ã—Ç—å –º–µ–Ω—é
menuObj.Invoke("hide", nullptr, 0);

// –û—á–∏—Å—Ç–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
menuObj.Invoke("clear", nullptr, 0);

// –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å –º–µ–Ω—é
menuObj.Invoke("destroy", nullptr, 0);
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```cpp
// –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É
RE::Scaleform::GFx::Value args[2] = {1, "–ù–æ–≤–∞—è –∏–≥—Ä–∞"};
menuObj.Invoke("push", args, 2);

// –î–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å
RE::Scaleform::GFx::Value args[3] = {2, "–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫", 1};
menuObj.Invoke("push", args, 3);

// –î–æ–±–∞–≤–∏—Ç—å —Å–≤–∏—Ç—á–µ—Ä
RE::Scaleform::GFx::Value args[3] = {3, "–ù–∏–∑–∫–æ–µ,–°—Ä–µ–¥–Ω–µ–µ,–í—ã—Å–æ–∫–æ–µ", 0};
menuObj.Invoke("push", args, 3);

// –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫
RE::Scaleform::GFx::Value args[2] = {0, "=== –ù–ê–°–¢–†–û–ô–ö–ò ==="};
menuObj.Invoke("push", args, 2);
```

### –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

```cpp
// –°–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
RE::Scaleform::GFx::Value menuArray;
uiMovie->CreateArray(&menuArray);

// –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –º–∞—Å—Å–∏–≤
RE::Scaleform::GFx::Value item1;
uiMovie->CreateArray(&item1);
item1.PushBack(1);              // BUTTON
item1.PushBack("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å");   // label
menuArray.PushBack(item1);

RE::Scaleform::GFx::Value item2;
uiMovie->CreateArray(&item2);
item2.PushBack(2);              // CHECKBOX
item2.PushBack("–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫"); // label
item2.PushBack(1);              // state
menuArray.PushBack(item2);

// –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Å—å –º–∞—Å—Å–∏–≤
menuObj.Invoke("pushArray", &menuArray, 1);
```

### –ü–æ–∏—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```cpp
// –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
RE::Scaleform::GFx::Value label("–ù–∞—Å—Ç—Ä–æ–π–∫–∏");
RE::Scaleform::GFx::Value result;
menuObj.Invoke("find", &result, &label, 1);
int index = result.GetInt(); // -1 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω

// –í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –Ω–∞–π–¥–µ–Ω–Ω—ã–º
RE::Scaleform::GFx::Value insertArgs[3] = {index, 1, "–ü–æ–º–æ—â—å"};
menuObj.Invoke("insert", insertArgs, 3);

// –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
RE::Scaleform::GFx::Value deleteLabel("–°—Ç–∞—Ä–∞—è –∫–Ω–æ–ø–∫–∞");
menuObj.Invoke("deleteComponent", &deleteLabel, 1);
```

## üìä –¢–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|-----|----------|-----------|
| 0 | LABEL | `push(0, "—Ç–µ–∫—Å—Ç")` |
| 1 | BUTTON | `push(1, "—Ç–µ–∫—Å—Ç")` |
| 2 | CHECKBOX | `push(2, "—Ç–µ–∫—Å—Ç", —Å–æ—Å—Ç–æ—è–Ω–∏–µ)` |
| 3 | SWITCHER | `push(3, "–æ–ø—Ü–∏—è1,–æ–ø—Ü–∏—è2,–æ–ø—Ü–∏—è3", –∏–Ω–¥–µ–∫—Å)` |

## üì° –ö–æ–ª–±—ç–∫–∏ —á–µ—Ä–µ–∑ Polling –º–µ—Ö–∞–Ω–∏–∑–º

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π polling –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–±—ã—Ç–∏–π –æ—Ç Flash –∫ C++. 
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, Flash —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ (_root), 
–∫–æ—Ç–æ—Ä—ã–µ C++ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ (kUpdate —Å–æ–æ–±—â–µ–Ω–∏–µ).

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ C++

```cpp
// –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
void DirectApply::onPushButtonComponent(const char* labelText) {
    std::string label(labelText);
    logger::info("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞: {}", label);
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
}

// –ö–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥" (Escape)
void DirectApply::onBackButtonComponent(const char* labelText) {
    std::string label(labelText);
    logger::info("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥: {}", label);
    // –ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è
}

// –ù–∞–≤–µ–¥–µ–Ω–∏–µ –º—ã—à–∏
void DirectApply::onHoverButtonComponent(const char* labelText) {
    std::string label(labelText);
    logger::info("–ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞: {}", label);
    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –∏–ª–∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É
}

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞
void DirectApply::onChangeCheckboxComponent(const char* labelText, bool checked) {
    std::string label(labelText);
    logger::info("–ß–µ–∫–±–æ–∫—Å {}: {}", label, checked ? "–≤–∫–ª—é—á–µ–Ω" : "–≤—ã–∫–ª—é—á–µ–Ω");
    // –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
}

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–∏—Ç—á–µ—Ä–∞
void DirectApply::onChangeSwitcherComponent(const char* labelText, int selectedIndex) {
    std::string label(labelText);
    logger::info("–°–≤–∏—Ç—á–µ—Ä {}: –≤—ã–±—Ä–∞–Ω –∏–Ω–¥–µ–∫—Å {}", label, selectedIndex);
    // –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
}
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç polling

–í `ProcessMessage` –ø—Ä–∏ `kUpdate`:

```cpp
case RE::UI_MESSAGE_TYPE::kUpdate:
{
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º pending callbacks –æ—Ç Flash
    if (isInitialized && uiMovie && menuObj.IsObject()) {
        pollPendingCallbacks();
    }
    return RE::UI_MESSAGE_RESULTS::kPassOn;
}
```

–§—É–Ω–∫—Ü–∏—è `pollPendingCallbacks()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `menuObj.GetMember("pendingCallback", ...)` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–º–µ–Ω–∏ –∫–æ–ª–±—ç–∫–∞
2. –ß–∏—Ç–∞–µ—Ç `menuObj.GetMember("callbackArgs", ...)` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤  
3. –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (`onPushButtonComponent`, etc.)
4. –û—á–∏—â–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ `menuObj.SetMember(...)`

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è pollPendingCallbacks()

```cpp
void DirectApply::pollPendingCallbacks() {
    if (!uiMovie || !menuObj.IsObject()) {
        return;
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ pending callback —á–µ—Ä–µ–∑ menuObj (Main –æ–±—ä–µ–∫—Ç –≤ AS3)
    RE::Scaleform::GFx::Value pendingCallback;
    if (!menuObj.GetMember("pendingCallback", &pendingCallback)) {
        return; // –ù–µ—Ç pending callback
    }

    if (!pendingCallback.IsString()) {
        return; // pendingCallback –Ω–µ —Å—Ç—Ä–æ–∫–∞
    }

    std::string callbackName = pendingCallback.GetString();
    if (callbackName.empty()) {
        return; // –ü—É—Å—Ç–æ–π callback
    }

    // –ü–æ–ª—É—á–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã callback
    RE::Scaleform::GFx::Value callbackArgs;
    if (!menuObj.GetMember("callbackArgs", &callbackArgs)) {
        logger::warn("DirectApply: pendingCallback –Ω–∞–π–¥–µ–Ω, –Ω–æ callbackArgs –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç");
        return;
    }

    if (!callbackArgs.IsArray()) {
        logger::warn("DirectApply: callbackArgs –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º");
        return;
    }

    logger::info("DirectApply: –û–±—Ä–∞–±–æ—Ç–∫–∞ pending callback: {}", callbackName);

    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º callback –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
    if (callbackName == "pushButtonComponent") {
        if (callbackArgs.GetArraySize() >= 1) {
            RE::Scaleform::GFx::Value arg0;
            callbackArgs.GetElement(0, &arg0);
            if (arg0.IsString()) {
                onPushButtonComponent(arg0.GetString());
            }
        }
    } else if (callbackName == "changeCheckboxComponent") {
        if (callbackArgs.GetArraySize() >= 2) {
            RE::Scaleform::GFx::Value arg0, arg1;
            callbackArgs.GetElement(0, &arg0);
            callbackArgs.GetElement(1, &arg1);
            if (arg0.IsString() && arg1.IsBool()) {
                onChangeCheckboxComponent(arg0.GetString(), arg1.GetBool());
            }
        }
    } 
    // ... –¥–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –∫–æ–ª–±—ç–∫–æ–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
    else {
        logger::warn("DirectApply: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π callback: {}", callbackName);
    }

    // –û—á–∏—â–∞–µ–º pending callback –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    RE::Scaleform::GFx::Value emptyValue;
    emptyValue.SetString("");
    menuObj.SetMember("pendingCallback", emptyValue);
    
    RE::Scaleform::GFx::Value emptyArray;
    uiMovie->CreateArray(&emptyArray);
    menuObj.SetMember("callbackArgs", emptyArray);
}
```

### Flash —Å—Ç–æ—Ä–æ–Ω–∞

```actionscript
// –í Main.as –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–ª–±—ç–∫–∞
private function sendExternalCallback(callbackName:String, args:Array):void {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º callback —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Main –æ–±—ä–µ–∫—Ç–∞
    this.pendingCallback = callbackName;
    this.callbackArgs = args;
    trace("Main: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã this.pendingCallback = " + callbackName);
}

// –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Å–µ Main
public class Main extends MovieClip {
    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è polling –∫–æ–ª–±—ç–∫–æ–≤ –∏–∑ C++
    public var pendingCallback:String = "";
    public var callbackArgs:Array = [];
    // ...–æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–∫–µ—Ç–∞

```cpp
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã (–ø—Ä–∞–≤–æ, –≤–µ—Ä—Ö, –Ω–∏–∑)
RE::Scaleform::GFx::Value margins[3] = {20.0, 100.0, 100.0};
menuObj.Invoke("setMenuMargins", margins, 3);

// –û–±–Ω–æ–≤–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
menuObj.Invoke("updateMenuScale", nullptr, 0);

// –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Å—à—Ç–∞–±–µ
RE::Scaleform::GFx::Value scaleInfo;
menuObj.Invoke("getMenuScaleInfo", &scaleInfo, 0);
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- **‚Üë/‚Üì** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- **‚Üê/‚Üí** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π (—á–µ–∫–±–æ–∫—Å—ã, —Å–≤–∏—Ç—á–µ—Ä—ã)
- **Enter** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
- **Escape** - –∫–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥"

## ÔøΩ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DirectApply

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ C++

```cpp
// –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ DirectApply
DirectApply::DirectApply() {
    // –ó–∞–≥—Ä—É–∑–∫–∞ SWF —Ñ–∞–π–ª–∞
    ScaleformManager->LoadMovieEx(*this, "Interface/dbMenu.swf", 
        "root.menu_mc", RE::Scaleform::GFx::Movie::ScaleModeType::kShowAll);
    
    // menuObj –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ ProcessMessage –ø—Ä–∏ kShow
}

// –í ProcessMessage
case RE::UI_MESSAGE_TYPE::kShow:
    if (!isInitialized) {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è menuObj —á–µ—Ä–µ–∑ _root (Main –∫–ª–∞—Å—Å –≤ AS3)
        bool success = uiMovie->GetVariable(&menuObj, "_root");
        if (success && menuObj.IsObject()) {
            isInitialized = true;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–∫–µ—Ç–∞
            RE::Scaleform::GFx::Value margins[3] = {20.0, 100.0, 100.0};
            menuObj.Invoke("setMenuMargins", margins, 3);
            menuObj.Invoke("updateMenuScale", nullptr, 0);
        }
    }
    break;

case RE::UI_MESSAGE_TYPE::kUpdate:
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º pending callbacks –æ—Ç Flash –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
    if (isInitialized && uiMovie && menuObj.IsObject()) {
        pollPendingCallbacks();
    }
    break;
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```cpp
void DirectApply::showActors() {
    clear();
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–µ—Ä–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É
    auto actors = getActorsInRange(RE::PlayerCharacter::GetSingleton(), 1000, 10);
    
    for (const auto& actor : actors) {
        std::string name = actor->GetDisplayFullName();
        if (name.empty()) name = "<Unnamed>";
        
        push(MENU_OBJECT::BUTTON, name);
    }
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Interface/
‚îî‚îÄ‚îÄ dbMenu.swf          # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SWF —Ñ–∞–π–ª

Source/
‚îú‚îÄ‚îÄ Main.as             # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –∏ API
‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îú‚îÄ‚îÄ MenuManager.as  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ MenuScaler.as   # –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ ScrollableMenu.as # –ü—Ä–æ–∫—Ä—É—Ç–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ CustomEvent.as  # –°–æ–±—ã—Ç–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ ButtonComponent.as
‚îÇ       ‚îú‚îÄ‚îÄ CheckboxComponent.as
‚îÇ       ‚îú‚îÄ‚îÄ SwitcherComponent.as
‚îÇ       ‚îî‚îÄ‚îÄ LabelComponent.as
‚îî‚îÄ‚îÄ C++/
    ‚îú‚îÄ‚îÄ DirectApply.h   # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
    ‚îî‚îÄ‚îÄ DirectApply.cpp # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—é
```

## üõ†Ô∏è –°–±–æ—Ä–∫–∞

1. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è AS3**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flash Professional –∏–ª–∏ mxmlc
2. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è C++**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º F4SE
3. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ**: –ü–æ–º–µ—Å—Ç–∏—Ç–µ `dbMenu.swf` –≤ –ø–∞–ø–∫—É `Interface/`

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```cpp
// –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –º–µ–Ω—é
void DirectApply::createMainMenu() {
    clear();
    
    // –ó–∞–≥–æ–ª–æ–≤–æ–∫
    push(MENU_OBJECT::LABEL, "=== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ===");
    
    // –ö–Ω–æ–ø–∫–∏
    push(MENU_OBJECT::BUTTON, "–ù–æ–≤–∞—è –∏–≥—Ä–∞");
    push(MENU_OBJECT::BUTTON, "–ó–∞–≥—Ä—É–∑–∏—Ç—å");
    push(MENU_OBJECT::BUTTON, "–ù–∞—Å—Ç—Ä–æ–π–∫–∏");
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    push(MENU_OBJECT::LABEL, "--- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ---");
    push(MENU_OBJECT::CHECKBOX, "–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫", soundEnabled ? 1 : 0);
    push(MENU_OBJECT::SWITCHER, "–ù–∏–∑–∫–æ–µ,–°—Ä–µ–¥–Ω–µ–µ,–í—ã—Å–æ–∫–æ–µ", graphicsQuality);
    
    // –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
    push(MENU_OBJECT::BUTTON, "–í—ã—Ö–æ–¥");
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
extern "C" void pushButtonComponent(const char* labelText) {
    std::string label(labelText);
    
    if (label == "–ù–æ–≤–∞—è –∏–≥—Ä–∞") {
        // –õ–æ–≥–∏–∫–∞ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
    } else if (label == "–ù–∞—Å—Ç—Ä–æ–π–∫–∏") {
        // –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫
    } else if (label == "–í—ã—Ö–æ–¥") {
        // –ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é
        DirectApply::getSingleton()->hide();
    }
}
```

## üîç –û—Ç–ª–∞–¥–∫–∞

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `trace()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```actionscript
// –í Main.as
trace("Main: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ç–∏–ø–∞ " + type);

// –í MenuManager.as  
trace("MenuManager: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ " + items.length + " —ç–ª–µ–º–µ–Ω—Ç–æ–≤");

// –í ScrollableMenu.as
trace("ScrollableMenu: –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –∏–Ω–¥–µ–∫—Å " + activeIndex);
```

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Fallout 4** - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å F4SE
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API** - –ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å C++
- ‚úÖ **Polling –∫–æ–ª–±—ç–∫–∏** - –Ω–∞–¥–µ–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–±—ã—Ç–∏–π –±–µ–∑ ExternalInterface
- ‚úÖ **–ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω** - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π ScrollPane —Å–ø—Ä–∞–≤–∞
- ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ß–∏—Å—Ç—ã–π –∫–æ–¥** - —É–±—Ä–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ª–∏—à–Ω–∏–π –∫–æ–¥
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ v2.0.1

## üìÅ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DBMenu/
‚îú‚îÄ‚îÄ README.md           # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ExampleUsage.md     # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ DirectApply.h       # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª C++
‚îú‚îÄ‚îÄ DirectApply.cpp     # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è C++
‚îú‚îÄ‚îÄ Main.as             # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å AS3
‚îú‚îÄ‚îÄ view/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã AS3
‚îÇ   ‚îú‚îÄ‚îÄ MenuManager.as
‚îÇ   ‚îú‚îÄ‚îÄ MenuScaler.as
‚îÇ   ‚îú‚îÄ‚îÄ ScrollableMenu.as
‚îÇ   ‚îú‚îÄ‚îÄ CustomEvent.as
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ ButtonComponent.as
‚îÇ       ‚îú‚îÄ‚îÄ CheckboxComponent.as
‚îÇ       ‚îú‚îÄ‚îÄ SwitcherComponent.as
‚îÇ       ‚îî‚îÄ‚îÄ LabelComponent.as
‚îú‚îÄ‚îÄ dbMenu.fla          # –ò—Å—Ö–æ–¥–Ω—ã–π Flash —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ dbMenu.swf          # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SWF
‚îî‚îÄ‚îÄ build.bat           # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
```

---

**üéØ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö Fallout 4.**

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω polling –º–µ—Ö–∞–Ω–∏–∑–º** - –Ω–∞–¥–µ–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–ª–±—ç–∫–æ–≤ —á–µ—Ä–µ–∑ _root –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- **–£–±—Ä–∞–Ω ExternalInterface** - –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç availability
- **–£–±—Ä–∞–Ω –≤–µ—Å—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥** –∏–∑ Main.as –∏ DirectApply.cpp
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è** –¥–∞–Ω–Ω—ã—Ö
- **–£–ø—Ä–æ—â–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª** DirectApply.h
- **–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ polling –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–¥** –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–µ–Ω—é

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ª—é–±—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –º–æ–¥—ã –¥–ª—è Fallout 4.
   - –û—á–∏—Å—Ç–∏—Ç–µ –ø–æ–ª–µ "Class" –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è –∫–ª–∞—Å—Å–∞
   - –ù–∞–∂–º–∏—Ç–µ OK

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ FLA

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–æ–∑–¥–∞–π—Ç–µ –≤ FLA:
- **MovieClip** —Å –∏–º–µ–Ω–µ–º `menu_mc` –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ü–µ–Ω–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ï—Å–ª–∏ `menu_mc` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—Å—Ç fallback –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Main.as (–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îú‚îÄ‚îÄ MenuManager.as (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ MenuScaler.as (–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ ScrollableMenu.as (–≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é)
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îÇ           ‚îú‚îÄ‚îÄ ButtonComponent.as
‚îÇ           ‚îú‚îÄ‚îÄ CheckboxComponent.as
‚îÇ           ‚îú‚îÄ‚îÄ SwitcherComponent.as
‚îÇ           ‚îî‚îÄ‚îÄ LabelComponent.as
‚îî‚îÄ‚îÄ CustomEvent.as (–°–æ–±—ã—Ç–∏—è)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

#### üéØ Main.as
**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π, API –¥–ª—è C++, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–æ–ª–±—ç–∫–æ–≤.

#### üéõÔ∏è MenuManager.as  
**–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä** - –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º.

#### üìè MenuScaler.as
**–°–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é.

#### üìú ScrollableMenu.as
**–ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–æ–µ –º–µ–Ω—é** - —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ ScrollPane, –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

#### üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **ButtonComponent** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
- **CheckboxComponent** - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–∫–ª/–≤—ã–∫–ª  
- **SwitcherComponent** - –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π —Å—Ç—Ä–µ–ª–∫–∞–º–∏
- **LabelComponent** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

*–í—Å–µ –∫–ª–∞—Å—Å—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ @brief –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.*

## üîß API –¥–ª—è C++

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é

```cpp
// –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
movie->Invoke("show", nullptr, 0);

// –°–∫—Ä—ã—Ç—å –º–µ–Ω—é  
movie->Invoke("hide", nullptr, 0);

// –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –º–µ–Ω—é
movie->Invoke("destroy", nullptr, 0);
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º

```cpp
// –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
movie->Invoke("clear", nullptr, 0);

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫
RE::Scaleform::GFx::Value title("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é");
movie->Invoke("setTitle", &title, 1);

// –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
RE::Scaleform::GFx::Value labelToDelete("–ù–∞—Å—Ç—Ä–æ–π–∫–∏");
movie->Invoke("deleteComponent", &labelToDelete, 1);

// –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –ª–µ–π–±–ª—É
RE::Scaleform::GFx::Value labelToFind("–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫");
RE::Scaleform::GFx::Value result;
movie->Invoke("find", &result, &labelToFind, 1);
// result —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω–¥–µ–∫—Å –∏–ª–∏ -1 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```cpp
// –î–æ–±–∞–≤–∏—Ç—å –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü - push(—Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ?)

// –ö–Ω–æ–ø–∫–∞
RE::Scaleform::GFx::Value buttonArgs[2] = {1, "–ù–æ–≤–∞—è –∏–≥—Ä–∞"};
movie->Invoke("push", buttonArgs, 2);

// –ß–µ–∫–±–æ–∫—Å
RE::Scaleform::GFx::Value checkboxArgs[3] = {2, "–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫", 1};
movie->Invoke("push", checkboxArgs, 3);

// –°–≤–∏—Ç—á–µ—Ä
RE::Scaleform::GFx::Value switcherArgs[3] = {3, "–ù–∏–∑–∫–æ–µ,–°—Ä–µ–¥–Ω–µ–µ,–í—ã—Å–æ–∫–æ–µ,–£–ª—å—Ç—Ä–∞", 2};
movie->Invoke("push", switcherArgs, 3);

// –ó–∞–≥–æ–ª–æ–≤–æ–∫
RE::Scaleform::GFx::Value labelArgs[2] = {0, "=== –ù–ê–°–¢–†–û–ô–ö–ò ==="};
movie->Invoke("push", labelArgs, 2);
```

### –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```cpp
// –î–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - pushArray([—ç–ª–µ–º–µ–Ω—Ç1, —ç–ª–µ–º–µ–Ω—Ç2, ...])
RE::Scaleform::GFx::Value menuArray;
movie->CreateArray(&menuArray);

// –≠–ª–µ–º–µ–Ω—Ç 1: [—Ç–∏–ø, –ª–µ–π–±–ª]
RE::Scaleform::GFx::Value item1;
movie->CreateArray(&item1);
item1.PushBack(0);                      // LABEL
item1.PushBack("=== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ==="); // –ª–µ–π–±–ª
menuArray.PushBack(item1);

// –≠–ª–µ–º–µ–Ω—Ç 2: [—Ç–∏–ø, –ª–µ–π–±–ª]
RE::Scaleform::GFx::Value item2;
movie->CreateArray(&item2);
item2.PushBack(1);              // BUTTON
item2.PushBack("–ù–æ–≤–∞—è –∏–≥—Ä–∞");   // –ª–µ–π–±–ª
menuArray.PushBack(item2);

// –≠–ª–µ–º–µ–Ω—Ç 3: [—Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ]
RE::Scaleform::GFx::Value item3;
movie->CreateArray(&item3);
item3.PushBack(2);               // CHECKBOX
item3.PushBack("–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫"); // –ª–µ–π–±–ª
item3.PushBack(1);               // —Å–æ—Å—Ç–æ—è–Ω–∏–µ
menuArray.PushBack(item3);

movie->Invoke("pushArray", &menuArray, 1);
```

### –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```cpp
// –í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –∏–Ω–¥–µ–∫—Å–æ–º - insert(–∏–Ω–¥–µ–∫—Å, —Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ?)

// –í—Å—Ç–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ –Ω–∞—á–∞–ª–æ (–∏–Ω–¥–µ–∫—Å 0)
RE::Scaleform::GFx::Value insertArgs[3] = {0, 1, "–ù–∞–∑–∞–¥"};
movie->Invoke("insert", insertArgs, 3);

// –í—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–µ—Ä–µ–¥ 3-–º —ç–ª–µ–º–µ–Ω—Ç–æ–º
RE::Scaleform::GFx::Value separatorArgs[3] = {2, 0, "--- –ù–ê–°–¢–†–û–ô–ö–ò ---"};
movie->Invoke("insert", separatorArgs, 3);
```

### –¢–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –¢–∏–ø | –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä state |
|-----|-----------|----------|----------------|
| 0 | LABEL | –¢–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ | –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| 1 | BUTTON | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ | –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| 2 | CHECKBOX | –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å | 0=–≤—ã–∫–ª, 1=–≤–∫–ª |
| 3 | SWITCHER | –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ | –∏–Ω–¥–µ–∫—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ |

### –ú–µ—Ç–æ–¥—ã API

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|----------|
| `show()` | - | –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é |
| `hide()` | - | –°–∫—Ä—ã—Ç—å –º–µ–Ω—é |
| `destroy()` | - | –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å –º–µ–Ω—é |
| `clear()` | - | –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
| `push(type, label, state?)` | —Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü |
| `pushArray(items)` | –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | –î–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |
| `insert(index, type, label, state?)` | –∏–Ω–¥–µ–∫—Å, —Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç |
| `find(label)` | –ª–µ–π–±–ª | –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ |
| `deleteComponent(label)` | –ª–µ–π–±–ª | –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç |
| `setTitle(title)` | –∑–∞–≥–æ–ª–æ–≤–æ–∫ | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ |

## üì° –ö–æ–ª–±—ç–∫–∏ –≤ C++

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ C++ –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```cpp
// –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
extern "C" void pushButtonComponent(const char* labelText);

// –ö–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥" (Escape)
extern "C" void backButtonComponent(const char* labelText);

// –ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
extern "C" void hoverButtonComponent(const char* labelText);

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞
extern "C" void changeCheckboxComponent(const char* labelText, bool checked);

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–∏—Ç—á–µ—Ä–∞  
extern "C" void changeSwitcherComponent(const char* labelText, int selectedIndex);
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

```cpp
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã (–ø—Ä–∞–≤–æ, –≤–µ—Ä—Ö, –Ω–∏–∑)
RE::Scaleform::GFx::Value args[3] = {50.0, 20.0, 20.0};
movie->Invoke("setMenuMargins", args, 3);

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞
movie->Invoke("updateMenuScale", nullptr, 0);

// –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Å—à—Ç–∞–±–µ
RE::Scaleform::GFx::Value result;
movie->Invoke("getMenuScaleInfo", &result, 0);
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

- **‚Üë/‚Üì** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- **‚Üê/‚Üí** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π (—á–µ–∫–±–æ–∫—Å—ã, —Å–≤–∏—Ç—á–µ—Ä—ã)
- **Enter** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
- **Escape** - –∫–Ω–æ–ø–∫–∞ "–Ω–∞–∑–∞–¥"

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–∏—Å–∫ menu_mc –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ fallback
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è  
3. **–ü–æ–∫–∞–∑** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
6. **–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

## üêõ –û—Ç–ª–∞–¥–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `trace()`:

- **Main:** –æ–±—â–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ API
- **MenuManager:** —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
- **MenuScaler:** —Ä–∞—Å—á–µ—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **ScrollableMenu:** –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —ç–ª–µ–º–µ–Ω—Ç—ã

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–æ–µ –º–µ–Ω—é
```cpp
// –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é —Å –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
movie->Invoke("show", nullptr, 0);

// –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É
RE::Scaleform::GFx::Value buttonArgs[2] = {1, "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"};
movie->Invoke("push", buttonArgs, 2);
```

### –ú–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫
```cpp
// –ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é
movie->Invoke("show", nullptr, 0);

// –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫
RE::Scaleform::GFx::Value headerArgs[2] = {0, "=== –ù–ê–°–¢–†–û–ô–ö–ò ==="};
movie->Invoke("push", headerArgs, 2);

// –î–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å –∑–≤—É–∫–∞
RE::Scaleform::GFx::Value soundArgs[3] = {2, "–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫", settings.soundEnabled ? 1 : 0};
movie->Invoke("push", soundArgs, 3);

// –î–æ–±–∞–≤–∏—Ç—å —Å–≤–∏—Ç—á–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞
RE::Scaleform::GFx::Value qualityArgs[3] = {3, "–ù–∏–∑–∫–æ–µ,–°—Ä–µ–¥–Ω–µ–µ,–í—ã—Å–æ–∫–æ–µ,–£–ª—å—Ç—Ä–∞", settings.graphicsQuality};
movie->Invoke("push", qualityArgs, 3);

// –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ –∫–æ–Ω–µ—Ü
RE::Scaleform::GFx::Value backArgs[2] = {1, "–ù–∞–∑–∞–¥"};
movie->Invoke("push", backArgs, 2);

movie->Invoke("setTitle", "–ù–∞—Å—Ç—Ä–æ–π–∫–∏");
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é
```cpp
// –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤–æ–µ –º–µ–Ω—é –º–∞—Å—Å–∏–≤–æ–º
RE::Scaleform::GFx::Value baseMenu;
movie->CreateArray(&baseMenu);

// –ó–∞–≥–æ–ª–æ–≤–æ–∫
RE::Scaleform::GFx::Value header;
movie->CreateArray(&header);
header.PushBack(0);
header.PushBack("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é");
baseMenu.PushBack(header);

// –ö–Ω–æ–ø–∫–∏
RE::Scaleform::GFx::Value newGame;
movie->CreateArray(&newGame);
newGame.PushBack(1);
newGame.PushBack("–ù–æ–≤–∞—è –∏–≥—Ä–∞");
baseMenu.PushBack(newGame);

RE::Scaleform::GFx::Value loadGame;
movie->CreateArray(&loadGame);
loadGame.PushBack(1);
loadGame.PushBack("–ó–∞–≥—Ä—É–∑–∏—Ç—å");
baseMenu.PushBack(loadGame);

// –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É
movie->Invoke("clear", nullptr, 0);
movie->Invoke("pushArray", &baseMenu, 1);

// –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å" –∏ –≤—Å—Ç–∞–≤–∏—Ç—å "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –ø–µ—Ä–µ–¥ –Ω–µ–π
RE::Scaleform::GFx::Value findResult;
RE::Scaleform::GFx::Value findLabel("–ó–∞–≥—Ä—É–∑–∏—Ç—å");
movie->Invoke("find", &findResult, &findLabel, 1);

if (findResult.GetInt() >= 0) {
    RE::Scaleform::GFx::Value settingsArgs[3] = {findResult.GetInt(), 1, "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"};
    movie->Invoke("insert", settingsArgs, 3);
}
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∏ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç fallback —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏.

## ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞**
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤**  
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å C++**
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤**
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ç–µ–≥–æ–≤ @brief**
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–ª–±—ç–∫–æ–≤**
- ‚úÖ **Fallback —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ FLA**
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
- ‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**
- ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
- ‚úÖ **–ù–æ–≤—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π API —Å –º–µ—Ç–æ–¥–∞–º–∏ push, pushArray, insert, find**
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ FLA —Ñ–∞–π–ª–∞**
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ v2.0.1 - –µ–¥–∏–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- **Main.as**: –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º API
- **MenuManager**: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **MenuScaler**: –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
- **ScrollableMenu**: —É–º–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- **Components**: –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã —Å —á–∏—Å—Ç—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- **CustomEvent**: —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

### –ù–æ–≤—ã–π API (v2.0)
- `push(type, label, state?)` - –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü
- `pushArray(items)` - –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `insert(index, type, label, state?)` - –≤—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –∏–Ω–¥–µ–∫—Å–æ–º
- `find(label)` - –Ω–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –ª–µ–π–±–ª—É
- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤: `[—Ç–∏–ø, –ª–µ–π–±–ª, —Å–æ—Å—Ç–æ—è–Ω–∏–µ?]`
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è v2.0.1
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —É–±—Ä–∞–Ω—ã –≤—Å–µ —Ç–µ–≥–∏ `@brief`
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å –æ–ø–∏—Å–∞–Ω–∏–π
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥** - –∫—Ä–∞—Å–∏–≤—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Å–µ–∫—Ü–∏–π
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥** - —á–∏—Å—Ç—ã–µ –∏ —á–∏—Ç–∞–µ–º—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ª—é–±—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö Flash/AS3 —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π C++.
