# Changelog - DBMenu

## Version 2.0.0 (2025-07-30) - Release

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è EVENT_BACK —Å–æ–±—ã—Ç–∏–π
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫ ScrollableMenu
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** - —É–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SwitcherComponent —Å–æ–±—ã—Ç–∏–π
- **–û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞** - —É–¥–∞–ª–µ–Ω–∏–µ ~200+ —Å—Ç—Ä–æ–∫ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–î–≤–æ–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è EVENT_BACK** - —Ç–µ–ø–µ—Ä—å —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ ScrollableMenu.onKeyDown()
- **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–µ—Ç–æ–¥—ã** - —É–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã addItem(), updateItems() –∏–∑ ScrollableMenu
- **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è** - –æ—á–∏—â–µ–Ω—ã currentHoverIndex, pushTimer, –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ –≤ LabelComponent
- **–ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–ø—Ä–æ—â–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Üí ScrollableMenu ‚Üí C++ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- **Hover management**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ setActiveIndex() –≤ ScrollableMenu
- **Event delegation**: SwitcherComponent –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π createSwitcherHandler()
- **Code organization**: –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã

### üßπ –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞
#### –£–¥–∞–ª–µ–Ω–æ –∏–∑ ScrollableMenu.as:
- `logComponentState()` –º–µ—Ç–æ–¥ (71 —Å—Ç—Ä–æ–∫–∞)
- –î—É–±–ª–∏—Ä—É—é—â–∏–π `addItem()` –º–µ—Ç–æ–¥
- `updateItems()` –æ–±–µ—Ä—Ç–∫–∞
- `currentHoverIndex` –ø–æ–ª–µ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –£–¥–∞–ª–µ–Ω–æ –∏–∑ Main.as:
- `setHoverHighlight()` –∏ `clearHoverHighlight()` –º–µ—Ç–æ–¥—ã
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ ExternalInterface callbacks

#### –£–¥–∞–ª–µ–Ω–æ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
- **LabelComponent**: –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ `hoverColor`, `selectedColor`
- **ButtonComponent**: —Å–∏—Å—Ç–µ–º–∞ `pushTimer` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–£–¥–∞–ª–µ–Ω–æ**: ~200+ —Å—Ç—Ä–æ–∫ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**: 0 (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å**: ‚úÖ –£–ª—É—á—à–µ–Ω–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

### üí° –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ß–∏—Å—Ç–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–±—ã—Ç–∏–π
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ hover/active —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ C++ (DirectApply.cpp)
1. **–£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π pollPendingCallbacks** - –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω polling –º–µ—Ö–∞–Ω–∏–∑–º** –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Ñ—É–Ω–∫—Ü–∏–∏:
```cpp
// –ë–´–õ–û (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ —Å _root):
if (!uiMovie->GetVariable(&pendingCallback, "_root.pendingCallback")) {
    return;
}
uiMovie->SetVariable("_root.pendingCallback", emptyValue);

// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å menuObj):
if (!menuObj.GetMember("pendingCallback", &pendingCallback)) {
    return;
}
menuObj.SetMember("pendingCallback", emptyValue);
```

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–∞** - —Ä–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–µ–Ω —Å 1933 –¥–æ 1451 —Å—Ç—Ä–æ–∫–∏ –∑–∞ —Å—á–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
4. **–ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –≤–µ—Å—å polling —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ `menuObj.GetMember/SetMember`

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ polling –º–µ—Ö–∞–Ω–∏–∑–º–∞

### AS3 —Å—Ç–æ—Ä–æ–Ω–∞ (Flash):
1. –ü—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `sendExternalCallback()`
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è `this.pendingCallback` –∏ `this.callbackArgs`
3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã C++ —á–µ—Ä–µ–∑ `menuObj.GetMember()`

### C++ —Å—Ç–æ—Ä–æ–Ω–∞:
1. –í `ProcessMessage(kUpdate)` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `pollPendingCallbacks()`
2. –ß–∏—Ç–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `menuObj.GetMember()`
3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—á–∏—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `menuObj.SetMember()`

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å AS3** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2. ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞
3. ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç ExternalInterface
4. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ GetMember/SetMember

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ AS3 –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ C++ –∫–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ menuObj
- ‚úÖ Polling —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç ExternalInterface
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

## –°—Ç–∞—Ç—É—Å
üü¢ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –°–∏—Å—Ç–µ–º–∞ polling –∫–æ–ª–±—ç–∫–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è

## –°—Ç–∞—Ç—É—Å C++ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AS3 ‚Üî C++ —á–µ—Ä–µ–∑ polling —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- AS3 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `this.pendingCallback` –∏ `this.callbackArgs`
- C++ —á–∏—Ç–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ `menuObj.GetMember()` –≤ `pollPendingCallbacks()`
- C++ –æ—á–∏—â–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `menuObj.SetMember()` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ clean –∏ maintainable
